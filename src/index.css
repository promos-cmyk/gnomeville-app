@tailwind base;
@tailwind components;
@tailwind utilities;

/* Gnomeville custom styles */
body {
  background: linear-gradient(to bottom, white, #f9fafb);
  transition: background 0.3s ease;
}

body.dark-mode {
  background: linear-gradient(to bottom, #0f172a, #020617);
}

.dark {
  color-scheme: dark;
}

.dark body {
  background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
}

/* Neon glow animations for dark mode */
@keyframes neon-pulse {
  0%, 100% { 
    box-shadow: 0 0 5px rgba(236, 72, 153, 0.5),
                0 0 10px rgba(236, 72, 153, 0.4),
                0 0 20px rgba(236, 72, 153, 0.3),
                0 0 30px rgba(236, 72, 153, 0.2);
  }
  50% { 
    box-shadow: 0 0 10px rgba(236, 72, 153, 0.8),
                0 0 20px rgba(236, 72, 153, 0.6),
                0 0 30px rgba(236, 72, 153, 0.4),
                0 0 40px rgba(236, 72, 153, 0.3);
  }
}

@keyframes neon-glow-cyan {
  0%, 100% { 
    filter: drop-shadow(0 0 8px rgba(34, 211, 238, 0.6))
            drop-shadow(0 0 15px rgba(34, 211, 238, 0.4));
  }
  50% { 
    filter: drop-shadow(0 0 15px rgba(34, 211, 238, 0.9))
            drop-shadow(0 0 25px rgba(34, 211, 238, 0.6));
  }
}

@keyframes neon-glow-purple {
  0%, 100% { 
    filter: drop-shadow(0 0 8px rgba(168, 85, 247, 0.6))
            drop-shadow(0 0 15px rgba(168, 85, 247, 0.4));
  }
  50% { 
    filter: drop-shadow(0 0 15px rgba(168, 85, 247, 0.9))
            drop-shadow(0 0 25px rgba(168, 85, 247, 0.6));
  }
}

@keyframes neon-border {
  0%, 100% { 
    border-color: rgba(34, 211, 238, 0.5);
    box-shadow: inset 0 0 10px rgba(34, 211, 238, 0.3),
                0 0 15px rgba(34, 211, 238, 0.4);
  }
  50% { 
    border-color: rgba(168, 85, 247, 0.8);
    box-shadow: inset 0 0 15px rgba(168, 85, 247, 0.4),
                0 0 25px rgba(168, 85, 247, 0.5);
  }
}

@keyframes gfloatdance {
  0% { transform: translate(0, 0); }
  25% { transform: translate(4px, -3px); }
  50% { transform: translate(0, -6px); }
  75% { transform: translate(-4px, -3px); }
  100% { transform: translate(0, 0); }
}

.float-gnome {
  animation: gfloatdance 3s ease-in-out infinite;
  filter: drop-shadow(0 6px 6px rgba(0, 0, 0, 0.25));
}

/* Dark mode: gnomes get neon glow */
.dark .float-gnome {
  animation: gfloatdance 3s ease-in-out infinite, neon-glow-cyan 2s ease-in-out infinite;
}

.float-gnome-sm {
  animation: gfloatdance 3.5s ease-in-out infinite;
  filter: drop-shadow(0 3px 4px rgba(0, 0, 0, 0.18));
}

/* Dark mode: small gnomes get purple glow */
.dark .float-gnome-sm {
  animation: gfloatdance 3.5s ease-in-out infinite, neon-glow-purple 2.5s ease-in-out infinite;
}

/* Animation delays for confetti effect */
.delay-100 {
  animation-delay: 0.1s;
}

.delay-200 {
  animation-delay: 0.2s;
}

.delay-300 {
  animation-delay: 0.3s;
}

/* Celebration pulse animation */
@keyframes celebration-pulse {
  0%, 100% { 
    transform: scale(1);
  }
  50% { 
    transform: scale(1.05);
  }
}

/* Shake animation for excitement */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

/* Coin flip animation for gamification */
@keyframes coin-flip {
  0% { transform: rotateY(0deg); }
  100% { transform: rotateY(1080deg); }
}

.animate-coin-flip {
  animation: coin-flip 1s ease-in-out;
}

/* Level up glow */
@keyframes level-up-glow {
  0% { 
    box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.7);
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 30px 10px rgba(168, 85, 247, 0.3);
    transform: scale(1.1);
  }
  100% { 
    box-shadow: 0 0 0 0 rgba(168, 85, 247, 0);
    transform: scale(1);
  }
}

/* Neon card effects for dark mode */
.dark .neon-card {
  background: rgba(15, 23, 42, 0.8);
  border: 1px solid rgba(34, 211, 238, 0.3);
  animation: neon-border 4s ease-in-out infinite;
  backdrop-filter: blur(10px);
}

.dark .neon-card-purple {
  background: rgba(30, 27, 75, 0.7);
  border: 1px solid rgba(168, 85, 247, 0.4);
  box-shadow: inset 0 0 15px rgba(168, 85, 247, 0.2),
              0 0 20px rgba(168, 85, 247, 0.3);
  backdrop-filter: blur(10px);
}

.dark .neon-card-pink {
  background: rgba(15, 23, 42, 0.8);
  border: 1px solid rgba(236, 72, 153, 0.4);
  box-shadow: inset 0 0 15px rgba(236, 72, 153, 0.2),
              0 0 20px rgba(236, 72, 153, 0.3);
  backdrop-filter: blur(10px);
}

#map {
  height: 380px;
  border-radius: 12px;
}

.dark #map {
  border: 2px solid rgba(34, 211, 238, 0.5);
  box-shadow: 0 0 20px rgba(34, 211, 238, 0.4);
}

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
}

.scan-box {
  position: relative;
  width: 90vw;
  max-width: 520px;
  background: #000;
  border-radius: 16px;
  overflow: hidden;
}

.scan-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  border: 2px solid rgba(255, 255, 255, 0.4);
  margin: 10%;
}
/* Weapon projectile animations - Enhanced 3D depth effect */
@keyframes projectile-fly {
  0% {
    bottom: 5%;
    left: 50%;
    transform: translate(-50%, 0) scale(1.2);
    opacity: 0;
    filter: blur(0px) brightness(1.2);
  }
  5% {
    opacity: 1;
  }
  100% {
    bottom: 55%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.15);
    opacity: 0;
    filter: blur(3px) brightness(0.8);
  }
}

@keyframes net-throw {
  0% {
    bottom: 5%;
    left: 50%;
    transform: translate(-50%, 0) scale(1.2) rotate(0deg);
    opacity: 0;
    filter: blur(0px) brightness(1.2);
  }
  5% {
    opacity: 1;
  }
  50% {
    bottom: 35%;
    transform: translate(-50%, -50%) scale(0.4) rotate(360deg);
    filter: blur(1px) brightness(1);
  }
  100% {
    bottom: 55%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.15) rotate(720deg);
    opacity: 0;
    filter: blur(3px) brightness(0.8);
  }
}

@keyframes arrow-fly {
  0% {
    bottom: 5%;
    left: 50%;
    transform: translate(-50%, 0) rotate(-45deg) scale(1);
    opacity: 0;
    filter: blur(0px) brightness(1.2);
  }
  5% {
    opacity: 1;
  }
  60% {
    bottom: 45%;
    transform: translate(-50%, -50%) rotate(-45deg) scale(0.3);
    filter: blur(1px) brightness(1);
  }
  100% {
    bottom: 60%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-45deg) scale(0.12);
    opacity: 0;
    filter: blur(4px) brightness(0.7);
  }
}

@keyframes dart-fly {
  0% {
    bottom: 5%;
    left: 50%;
    transform: translate(-50%, 0) rotate(0deg) scale(1);
    opacity: 0;
    filter: blur(0px) brightness(1.2);
  }
  5% {
    opacity: 1;
  }
  50% {
    bottom: 40%;
    transform: translate(-50%, -50%) rotate(540deg) scale(0.35);
    filter: blur(1px) brightness(1);
  }
  100% {
    bottom: 58%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(1080deg) scale(0.14);
    opacity: 0;
    filter: blur(3.5px) brightness(0.75);
  }
}

@keyframes fade-out {
  0% {
    opacity: 0.6;
    height: 0vh;
  }
  50% {
    opacity: 0.4;
    height: 40vh;
  }
  100% {
    opacity: 0;
    height: 50vh;
  }
}

.projectile {
  position: absolute;
  pointer-events: none;
  z-index: 25;
  font-size: 4rem;
  perspective: 1000px;
  transform-style: preserve-3d;
}

.projectile.net {
  animation: net-throw 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  filter: drop-shadow(0 0 20px rgba(34, 211, 238, 1)) drop-shadow(0 0 40px rgba(34, 211, 238, 0.6));
}

.projectile.arrow {
  animation: arrow-fly 0.75s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
  filter: drop-shadow(0 0 20px rgba(234, 179, 8, 1)) drop-shadow(0 0 40px rgba(234, 179, 8, 0.6));
}

.projectile.dart {
  animation: dart-fly 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  filter: drop-shadow(0 0 20px rgba(168, 85, 247, 1)) drop-shadow(0 0 40px rgba(168, 85, 247, 0.6));
}

.projectile.crossbow-bolt {
  animation: arrow-fly 0.65s cubic-bezier(0.19, 1, 0.22, 1) forwards;
  filter: drop-shadow(0 0 20px rgba(249, 115, 22, 1)) drop-shadow(0 0 40px rgba(249, 115, 22, 0.6));
}
